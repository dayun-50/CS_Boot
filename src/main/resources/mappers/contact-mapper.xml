<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <!-- 연락처 -->
  
 <!-- 오류 방지 예시용 고쳐쓰시오. -->
 <mapper namespace="Contact">

    <!-- 연락처 목록 조회 -->
    <select id="getMyContacts" resultType="com.kedu.project.contact.ContactDTO">
        SELECT * FROM contact
        ORDER BY contact_seq DESC
    </select>

    <!-- 연락처 등록 -->
    <insert id="insertContact" parameterType="com.kedu.project.contact.ContactDTO">
        INSERT INTO contact (
            owner_email,
            name,
            email,
            phone,
            contact_group,
            company_code,
            share
        ) VALUES (
            #{owner_email},
            #{name},
            #{email},
            #{phone},
            #{contact_group},
            #{company_code},
            #{share}
        )
    </insert>

    <!-- 연락처 수정 -->
    <update id="updateContact" parameterType="com.kedu.project.contact.ContactDTO">
        UPDATE contact
        SET
            name = #{name},
            email = #{email},
            phone = #{phone},
            contact_group = #{contact_group},
            company_code = #{company_code},
            share = #{share}
        WHERE contact_seq = #{contact_seq}
    </update>

    <!-- 연락처 삭제 -->
    <delete id="deleteContact" parameterType="int">
        DELETE FROM contact
        WHERE contact_seq = #{contact_seq}
    </delete>

</mapper>
